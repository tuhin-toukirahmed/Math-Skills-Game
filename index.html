<!DOCTYPE html>
<html lang="en">

<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Math Practice Game</title>
 <script src="https://cdn.tailwindcss.com"></script>
 <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
 <style>
  * {
   font-family: 'Poppins', sans-serif;
  }
 </style>
</head>

<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen p-4">

 <!-- Landing Page -->
 <div id="landingPage" class="w-full max-w-md p-4 sm:p-8 bg-gray-800 rounded-lg text-center shadow-lg">
  <h1 class="text-2xl sm:text-3xl font-bold mb-4">Math Skills</h1>
  <input id="playerName" type="text" placeholder="Enter your name"
   class="w-full p-3 rounded bg-gray-700 text-white mb-4 outline-none text-base">
  <label for="difficulty" class="block text-left text-gray-400 mb-1 text-sm">Select a level</label>
  <select id="difficulty" class="w-full p-3 rounded bg-gray-700 text-white mb-4 outline-none text-base">
   <option value="easy">Easy</option>
   <option value="medium">Medium</option>
   <option value="hard">Hard</option>
  </select>
  <p class="text-gray-400 mb-2">Game time: <span class="font-bold">3 Minutes</span></p>
  <div>
   <p class="text-gray-400 mb-2">Rules:</p>
   <ul class="text-gray-400 list-disc list-inside mb-4 text-left text-sm sm:text-base">
    <li>Enter a name and select a level.</li>
    <li>Answer the question within 3 minutes.</li>
    <li>Get 3 points for each correct answer.</li>
    <li>Lose 1 point for each wrong answer.</li>
   </ul>
  </div>
  <button onclick="startGame()" class="w-full bg-blue-500 py-3 rounded hover:bg-blue-600 text-base font-medium">Start
   Game</button>
 </div>

 <!-- Game Page -->
 <div id="gamePage" class="hidden w-full max-w-md p-4 sm:p-8 bg-gray-800 rounded-lg text-center relative shadow-lg">
  <button onclick="goBack()"
   class="absolute top-2 left-2 bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm">Back</button>
  <h2 class="text-xl font-bold mb-2 mt-4 sm:mt-0">Solve the Question</h2>
  <p class="text-gray-400 mb-2">Time Left: <span id="timer" class="font-bold">3:00</span></p>
  <p class="text-gray-400 mb-4">Score: <span id="score" class="font-bold">0</span></p>
  <div class="bg-gray-700 p-4 rounded text-xl sm:text-2xl font-bold mb-4" id="question"></div>
  <input id="answer" type="number"
   class="w-full p-3 rounded bg-gray-700 text-white mb-4 text-center outline-none text-lg" placeholder="Your Answer">
  <button onclick="checkAnswer()"
   class="w-full bg-green-500 py-3 rounded hover:bg-green-600 mb-3 text-base font-medium">Submit</button>
  <!-- Feedback message area -->
  <div id="feedbackMessage" class="mt-2 font-medium text-base sm:text-lg hidden"></div>
 </div>

 <!-- Result Page -->
 <div id="resultPage" class="hidden w-full max-w-md p-4 sm:p-8 bg-gray-800 rounded-lg text-center shadow-lg">
  <h2 class="text-xl sm:text-2xl font-bold mb-4">Game Over!</h2>
  <p id="finalMessage" class="text-base sm:text-lg mb-4"></p>
  <p class="text-gray-400 mb-6">Your Score: <span id="finalScore" class="font-bold text-green-400"></span></p>
  <button onclick="restartGame()" class="w-full bg-blue-500 py-3 rounded hover:bg-blue-600 text-base font-medium">Play
   Again</button>
 </div>

 <script>
  let timer;
  let timeLeft = 180; // 3 minutes
  let score = 0;
  let correctAnswer;
  let playerName = "";
  let level = "easy";

  function startGame() {
   playerName = document.getElementById("playerName").value.trim();
   level = document.getElementById("difficulty").value;

   if (!playerName) {
    alert("Please enter your name!");
    return;
   }

   document.getElementById("landingPage").classList.add("hidden");
   document.getElementById("gamePage").classList.remove("hidden");

   score = 0;
   timeLeft = 180; // Changed back to 3 minutes (180 seconds)
   document.getElementById("score").innerText = score;
   startTimer();
   generateQuestion();
  }

  function startTimer() {
   timer = setInterval(() => {
    if (timeLeft <= 0) {
     clearInterval(timer);
     endGame();
    } else {
     timeLeft--;
     let minutes = Math.floor(timeLeft / 60);
     let seconds = timeLeft % 60;
     document.getElementById("timer").innerText = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }
   }, 1000);
  }

  function generateQuestion() {
   let num1, num2, operator;

   if (level === "easy") {
    num1 = Math.floor(Math.random() * 90) + 10;
    num2 = Math.floor(Math.random() * 90) + 10;
    operator = Math.random() > 0.5 ? "+" : "-";
   } else if (level === "medium") {
    let ops = ["+", "-", "*", "/"];
    operator = ops[Math.floor(Math.random() * 4)];

    if (operator === "+" || operator === "-") {
     // 3-digit numbers for addition and subtraction
     num1 = Math.floor(Math.random() * 900) + 100;
     num2 = Math.floor(Math.random() * 900) + 100;
    } else if (operator === "*") {
     // 2-digit number * single-digit number for multiplication
     num1 = Math.floor(Math.random() * 90) + 10;
     num2 = Math.floor(Math.random() * 9) + 1;
    } else if (operator === "/") {
     // 2-digit number Ã· single-digit number for division
     num2 = Math.floor(Math.random() * 9) + 1;
     // Make num1 divisible by num2
     let factor = Math.floor(Math.random() * 9) + 1;
     num1 = num2 * factor;
    }
   } else {
    let ops = ["+", "-", "*", "/"];
    operator = ops[Math.floor(Math.random() * 4)];
    num1 = Math.floor(Math.random() * 90) + 10;
    num2 = Math.floor(Math.random() * 90) + 10;
    if (operator === "/") num1 = num2 * Math.floor(Math.random() * 9 + 1);
   }

   correctAnswer = eval(`${num1} ${operator} ${num2}`);
   correctAnswer = Number.isInteger(correctAnswer) ? correctAnswer : correctAnswer.toFixed(2);
   document.getElementById("question").innerText = `${num1} ${operator} ${num2}`;
  }

  function checkAnswer() {
   let userAnswer = parseFloat(document.getElementById("answer").value);
   let feedbackElement = document.getElementById("feedbackMessage");

   if (!isNaN(userAnswer)) {
    if (userAnswer == correctAnswer) {
     score += 3;
     feedbackElement.textContent = "Congratulations! That's correct! ðŸŽ‰";
     feedbackElement.className = "mt-2 font-medium text-lg text-green-400";
    } else {
     score -= 1;
     feedbackElement.textContent = `Wrong answer. The correct answer is ${correctAnswer}.`;
     feedbackElement.className = "mt-2 font-medium text-lg text-red-400";
    }
    feedbackElement.classList.remove("hidden");
    document.getElementById("score").innerText = score;
   }

   // Clear the input field
   document.getElementById("answer").value = "";

   // Wait 1.5 seconds before generating a new question
   setTimeout(() => {
    feedbackElement.classList.add("hidden");
    generateQuestion();
   }, 1500);
  }

  function endGame() {
   document.getElementById("gamePage").classList.add("hidden");
   document.getElementById("resultPage").classList.remove("hidden");
   document.getElementById("finalScore").innerText = score;
   document.getElementById("finalMessage").innerText = `Congratulations, ${playerName}!`;
  }

  function goBack() {
   clearInterval(timer);
   document.getElementById("gamePage").classList.add("hidden");
   document.getElementById("landingPage").classList.remove("hidden");
   clearInputs();
  }

  function clearInputs() {
   document.getElementById("playerName").value = "";
   document.getElementById("answer").value = "";
   document.getElementById("difficulty").value = "easy";
  }

  function restartGame() {
   document.getElementById("resultPage").classList.add("hidden");
   document.getElementById("landingPage").classList.remove("hidden");
   clearInputs();
  }
 </script>

</body>

</html>